<div class="gutterVMd">
  <% console.log(ob) %>
  <div class="contentBox padMd clrP clrBr clrSh3">
    <div class="flexHCent">
      <h2 class="h3 clrT">Moderation</h2>
      <a class="btn clrP clrBr clrSh2 modalContentCornerBtn js-save"><%= ob.polyT('settings.btnSave') %></a>
    </div>
    <hr class="clrBr" />
    <h3><%= ob.polyT('settings.moderationTab.disputeResolution') %></h3>
    <p class="tx5 clrT2"><%= ob.polyT('settings.moderationTab.disputeResolutionText') %></p>

    <div class="tabFormWrapper">
      <form class="box padMdKids padStack">
        <h2></h2>
        <div class="flexRow">
          <div class="col3">
            <label class="required"><%= ob.polyT('settings.moderationTab.moderationStatus') %></label>
          </div>
          <div class="col9">
            <div class="btnStrip">
              <div class="btnRadio clrBr">
                <input type="radio"
                       name="moderator"
                       value="true"
                       id="settingsModerationStatusTrue"
                       data-var-type="boolean"
                <% if(ob.isModerator) { %>checked<% } %>>
                <label for="settingsModerationStatusTrue">On</label>
              </div>
              <div class="btnRadio clrBr">
                <input type="radio"
                       name="moderator"
                       value="false"
                       id="settingsModerationStatusFalse"
                       data-var-type="boolean"
                <% if(!ob.isModerator) { %>checked<% } %>>
                <label for="settingsModerationStatusFalse">Off</label>
              </div>
            </div>
          </div>
        </div>
        <div class="flexRow">
          <div class="col3">
            <label for="settingsModeratorDescription" class="required"><%= ob.polyT('settings.moderationTab.description') %></label>
          </div>
          <div class="col9">
            <% if (ob.errors.description) print(ob.formErrorTmpl({ errors: ob.errors.description })) %>
            <textarea rows="3" maxlength="160" name="modInfo.description" id="settingsModeratorDescription"
                      class="clrBr clrSh2" placeholder="<%= ob.polyT('settings.moderationTab.descriptionHelper') %>"><%= ob.description %></textarea>
          </div>
        </div>
        <div class="flexRow">
          <div class="col3">
            <label for="settingsModeratorTerms" class="required"><%= ob.polyT('settings.moderationTab.terms') %></label>
          </div>
          <div class="col9">
            <% if (ob.errors.terms) print(ob.formErrorTmpl({ errors: ob.errors.terms })) %>
            <textarea rows="3" maxlength="160" name="modInfo.termsAndConditions" id="settingsModeratorTerms"
                      class="clrBr clrSh2" placeholder="<%= ob.polyT('settings.moderationTab.termsHelper') %>"><%= ob.termsAndConditions %></textarea>
          </div>
        </div>
        <div class="flexRow">
          <div class="col3">
            <label for="settingsModeratorTerms" class="required"><%= ob.polyT('settings.moderationTab.languages') %></label>
          </div>
          <div class="col9">
            <% if (ob.errors.languages) print(ob.formErrorTmpl({ errors: ob.errors.languages })) %>
            <div class="select2TagsWrap">
              <% console.log(ob.languages.length) %>
              <% var languages = ob.languages.length ? ob.languages : [ob.defaultLanguage] %>
              <% console.log(languages) %>
              <select id="moderationLanguageSelect" multiple name="modInfo.languages" class="clrBr clrP clrSh2 select2Tags">
                <% ob.languageList.forEach((lang) => { %>
                <option value="<%= lang.code %>" <% if (languages.indexOf(lang.code) !== -1 ) print('selected') %>><%= lang.name %></option>
                <% }); %>
              </select>
            </div>
            <div class="tx6 txPlaceholder">
              <%= ob.polyT('settings.moderationTab.languagesHelper') %>
            </div>
          </div>
        </div>
      </form>
      <!-- the elements below are not part of the data being saved to the server -->
      <div class="flexRow">
        <div class="col3"></div>
        <div class="col9">
          <input type="checkbox" id="acceptGuidelines">
          <label class="tx5b js-acceptGuidelines" for="acceptGuidelines">
            <span>
              <%= ob.polyT('settings.moderationTab.acceptGuidelines', { acceptGuidelinesLink: `<a href="https://github.com/OpenBazaar/openbazaar-desktop/blob/server-connect-ui/docs/disputeResolution.md" class="clrTEm">${ob.polyT('settings.moderationTab.acceptGuidelinesLink')}</a>` }) %>
            </span>
          </label>
        </div>
      </div>
      <div class="flexRow">
        <div class="col3"></div>
        <div class="col9">
          <input type="checkbox" id="understandRequirements">
          <label class="tx5b js-understandRequirements" for="understandRequirements">
            <span><%= ob.polyT('settings.moderationTab.understandRequirements') %></span>
          </label>
        </div>
      </div>
    </div>
  </div>
</div>

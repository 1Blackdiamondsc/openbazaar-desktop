<%
  const getTextSize = function(str) {
    if (str.length > 23) {
      return 'tx5';
    } else if (str.length > 19) {
      return 'tx4';
    } else if (str.length > 14) {
      return 'tx3';
    } else {
      return 'tx2';
    }
  };

  const serverCur = ob.currency.getServerCurrency().code;
  const formattedCrypto = ob.formatUnitlessCryptoAmount(ob.balance);
  const cryptoTextSize = getTextSize(formattedCrypto);
  const formattedFiat = ob.currency.convertAndFormatCurrency(ob.balance, serverCur, ob.userCurrency);
  const userCurrencyValidity = ob.currency.getCurrencyValidity(ob.userCurrency);

  const fiatTextSize = getTextSize(formattedFiat);
%>
<div class="rowLg flexColRows gutterV">
  <% if (userCurrencyValidity === 'VALID') { %>
  <div>
    <div class="clrTEmph1 <%= cryptoTextSize %> txB"><%= formattedCrypto %></div>
    <div><%= ob.polyT(`cryptoCurrencies.${serverCur}.wallet.cryptoCurrencyLabel`) %></div>
  </div>
  <% } %>
  <% if (ob.userCurrency !== serverCur) { %>
  <div>
    <div class="clrTEmph1 <%= fiatTextSize %> txB"><%= formattedFiat %></div>
    <div><%= ob.polyT('wallet.valueInCurrencyLabel',
      { currency: userCurrencyValidity === 'VALID' ? ob.userCurrency : serverCur }) %></div>
  </div>
  <% } %>
  <div>
    <% if (typeof ob.transactionCount !== 'undefined') { %>
    <div class="clrTEmph1 tx2 txB"><%= ob.transactionCount %></div>
    <div><%= ob.polyT('wallet.transactionsLabel') %></div>
    <% } %>
  </div>            
</div>

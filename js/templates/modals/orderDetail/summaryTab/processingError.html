<%
  if (ob.isBuyer) {
    if (!ob.isModerated) {
%>
      <% 
        if (!ob.errors.length) {
          const message = !ob.isOrderCancelable ?
            'The vendor was unable to process your order.' :
            'The vendor was unable to process your order. You may cancel the order to retrieve your payment.';
      %>

        <p><span class="ion-alert-circled padSm"></span><%= message %></p>
      <% } else { %>
        <p><span class="ion-alert-circled padSm"></span>The vendor was unable to process the order due to the following errors:</p>
        <ul class="row"><% ob.errors.forEach(err => print(`<li>${err}</li>`)) %></ul>
        <% if (ob.isOrderCancelable) { %>
          <p>You may cancel the order to retrieve your payment</p>
        <%
           }
        }

    } else {
      if (!ob.errors.length) {
        const message = !ob.isDisputable ?
          'The vendor was unable to process your order.' :
          'The vendor was unable to process your order. You may open a dispute to ask the moderator to award the funds back to you.';
%>
          <p><span class="ion-alert-circled padSm"></span><%= message %></p>
<%    
      } else { %>
        <p><span class="ion-alert-circled padSm"></span>The vendor was unable to process the order due to the following errors:</p>
        <ul class="row"><% ob.errors.forEach(err => print(`<li>${err}</li>`)) %></ul>
        <% if (ob.isDisputable) { %>
          <p>You may open a dispute to ask the moderator to award the funds back to you.</p>
        <%
           }
      }
    }
  } else {
  // it's the vendor
%>
    <p><span class="ion-alert-circled padSm"></span><%= ob.polyT('orderDetail.summaryTab.processingError.vendorUnableToProcess') %></p>
    <ul>
      <% ob.errors.forEach(err => { %>
        <li><%= err %></li>
      <% }); %>
    </ul>
<%  
  }
%>
<% if (!ob.outgoing) { %>
<div class="flexVCent gutterHSm rowLg">
  <a class="chatIcon disc clrBr2 clrSh1 flexNoShrink <% if (!ob.showAvatar) print('invisible') %>" <% if (ob.showAvatar) { %>style="background-image: url('../imgs/defaultAvatar.png')" <% } %>></a>
  <div class="posR">
    <div class="contentBox padSm clrBr clrP clrSh1 rowSm">
      <span class="tx6"><%= ob.message %></span>
    </div>
    <% if (ob.showTimestampLine) { %>
    <div class="posA">
      <span class="clrTEm ion-checkmark <% if (!ob.read) print('h2ide') %>"></span>
      <span><%= ob.moment(ob.timestamp).fromNow() %></span>
    </div>
    <% } %>    
  </div>
</div>
<% } else { %>
<div class="flexHRight">
  <div>
    <div class="flexVCent gutterHSm rowLg">
      <div class="posR">
        <div class="contentBox padSm clrBr clrP clrSh1 rowSm">
          <span class="tx6"><%= ob.message %></span>
        </div>
        <% if (ob.showTimestampLine) { %>
        <div class="posA">
          <span class="clrTEm ion-checkmark <% if (!ob.read) print('h2ide') %>"></span>
          <span><%= ob.moment(ob.timestamp).fromNow() %></span>
        </div>
        <% } %>    
      </div>
      <a class="chatIcon disc clrBr2 clrSh1 flexNoShrink <% if (!ob.showAvatar) print('invisible') %>" <% if (ob.showAvatar) { %>style="background-image: url('../imgs/defaultAvatar.png')" <% } %>></a>  
    </div>
  </div>
</div>
<% } %>